<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Partitions &mdash; Northeastern University Research Computing 2.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/../css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Software overview" href="../software/softwareoverview.html" />
    <link rel="prev" title="Hardware overview" href="hardware_overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/NU_logo_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Welcome</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../welcome/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../welcome/gettinghelp.html">Getting Help</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started with Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/get_access.html">Getting Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/connect.html">Connecting to Discovery</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware on Discovery</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hardware_overview.html">Hardware overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Partitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#viewing-partition-information">Viewing partition information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#allocating-partitions-in-your-jobs">Allocating partitions in your jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#partition-access-request">Partition Access Request</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software on Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/softwareoverview.html">Software overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/modules.html">Using Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/matlab.html">Working with MATLAB on Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/conda.html">Working with Conda/Miniconda/Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/spack.html">Using Spack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/r.html">Working with R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/mpi.html">Message Passing Interface (MPI) Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/usingslurm.html">Using Slurm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/sbatch.html">Using sbatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/srun.html">Using srun</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/workingwithgpu.html">Working with GPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/transferringdata.html">Transferring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/globus.html">Using Globus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-discovery/bashrc.html">Working with your bashrc file</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Understanding storage options</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../storage/discovery_storage.html">Storage Accessible on  Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/general_storage.html">General Data Storage Options</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Open OnDemand (OOD)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/introduction.html">Introduction to Open OnDemand (OOD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/fileexplore.html">Using OOD’s File Explorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/interactiveapps.html">Using OOD’s Interactive Apps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Discovery in your classroom</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../classroom/class_use.html">Using Discovery with your class FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Northeastern University Research Computing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Partitions</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="partitions">
<span id="partition-names"></span><h1>Partitions<a class="headerlink" href="#partitions" title="Permalink to this headline"></a></h1>
<p><sub>Updated July 31, 2020</sub></p>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>Partitions are logical collections of nodes that comprise different hardware resources and limits to
help meet the wide variety of jobs that get scheduled on Discovery. Occasionally, the Research Computing
team might need to make updates to the partitions based on monitoring job submissions to help reduce job
wait times. As our cluster grows, changes to the partitions also help to ensure the fair, efficient
distribution of resources for all jobs being submitted to the cluster.</p>
<p>On Discovery, there are several different partitions:</p>
<ul class="simple">
<li><p>General access (<code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">express</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">gpu</span></code>)</p></li>
<li><p>Application only (<code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">large</span></code>, <code class="docutils literal notranslate"><span class="pre">multigpu</span></code>)</p></li>
<li><p>PI owned (accessed only by members of the PIs’ group)</p></li>
</ul>
<p>The general access and application only partitions span the hardware on Discovery, with <code class="docutils literal notranslate"><span class="pre">gpu</span></code> and <code class="docutils literal notranslate"><span class="pre">multigpu</span></code> spanning the GPUs on Discovery and the other partitions spanning the CPUs.
For example, if you use the <code class="docutils literal notranslate"><span class="pre">debug</span></code> partition you’re using the same hardware as <code class="docutils literal notranslate"><span class="pre">short</span></code>, just with different time, job, and core limits. Refer to the tables below for
detailed information on the current partitions. Note that PI-owned partitions only include the hardware that those PIs own and are only accessible to the members of the PI’s group.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following table, the Running Jobs Per User/Per Research Group. RAM limit is per user, across all jobs.</p>
</div>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 17%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Requires approval?</p></th>
<th class="head"><p>Time limit (default/max)</p></th>
<th class="head"><p>Running jobs</p></th>
<th class="head"><p>Submitted jobs</p></th>
<th class="head"><p>Core limit (per user)</p></th>
<th class="head"><p>RAM limit</p></th>
<th class="head"><p>Use Case</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>debug</p></td>
<td><p>No</p></td>
<td><p>20 minutes/20 minutes</p></td>
<td><p>10/25</p></td>
<td><p>5000</p></td>
<td><p>128</p></td>
<td><p>256GB</p></td>
<td><p>Best for serial and parallel jobs that can run under 20 minutes. Good for testing code.</p></td>
</tr>
<tr class="row-odd"><td><p>express</p></td>
<td><p>No</p></td>
<td><p>30 minutes/60 minutes</p></td>
<td><p>50/250</p></td>
<td><p>5000</p></td>
<td><p>2048</p></td>
<td><p>25TB</p></td>
<td><p>Best for serial and parallel jobs that can run under 60 minutes.</p></td>
</tr>
<tr class="row-even"><td><p>short</p></td>
<td><p>No</p></td>
<td><p>4 hours/24 Hours</p></td>
<td><p>50/500</p></td>
<td><p>5000</p></td>
<td><p>128</p></td>
<td><p>25TB</p></td>
<td><p>Best for serial or small parallel jobs (<code class="docutils literal notranslate"><span class="pre">--nodes=2</span></code> max) that need to run for up to 24 hours.</p></td>
</tr>
<tr class="row-odd"><td><p>long</p></td>
<td><p><strong>Yes</strong></p></td>
<td><p>1 day/5 Days</p></td>
<td><p>25/250</p></td>
<td><p>1000 per user/5000 per group</p></td>
<td><p>1024</p></td>
<td><p>25TB</p></td>
<td><p>Primarily for serial or parallel jobs that need to run for more than 24 hours. Need to prove that your code cannot be checkpointed to use this partition.</p></td>
</tr>
<tr class="row-even"><td><p>large</p></td>
<td><p><strong>Yes</strong></p></td>
<td><p>6 hours/6 Hours</p></td>
<td><p>100/100</p></td>
<td><p>1000 per user/5000 per group</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Primarily for running parallel jobs that can efficiently use more than 2 nodes. Need to demonstrate that your code is optimized for running on more than 2 nodes.</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Requires approval?</p></th>
<th class="head"><p>Time limit (default/max)</p></th>
<th class="head"><p>Running jobs</p></th>
<th class="head"><p>Submitted jobs</p></th>
<th class="head"><p>GPU per job limit</p></th>
<th class="head"><p>GPU per user limit</p></th>
<th class="head"><p>Use Case</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>gpu</p></td>
<td><p>No</p></td>
<td><p>4 hours/8 Hours</p></td>
<td><p>25/250</p></td>
<td><p>50/100</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>For jobs that can run on a single GPU processor.</p></td>
</tr>
<tr class="row-odd"><td><p>multigpu</p></td>
<td><p><strong>Yes</strong></p></td>
<td><p>4 hours/24 Hours</p></td>
<td><p>25/100</p></td>
<td><p>50/100</p></td>
<td><p>12</p></td>
<td><p>12</p></td>
<td><p>For jobs that require more than one GPU and take up to 24 hours to run.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="viewing-partition-information">
<h2>Viewing partition information<a class="headerlink" href="#viewing-partition-information" title="Permalink to this headline"></a></h2>
<p>Slurm commands allow you to view information about the partitions. Three commands that can show you partition information are <code class="docutils literal notranslate"><span class="pre">sinfo</span></code>, <code class="docutils literal notranslate"><span class="pre">sacct</span></code>, and <code class="docutils literal notranslate"><span class="pre">scontrol</span></code>. The following are common options to use with these commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sinfo</span> <span class="o">-</span><span class="n">p</span> <span class="o">&lt;</span><span class="n">partition</span> <span class="n">name</span><span class="o">&gt;</span> <span class="c1">#displays the state of the nodes on a specific partition</span>
<span class="n">sinfo</span> <span class="o">-</span><span class="n">p</span> <span class="o">&lt;</span><span class="n">partition</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">Format</span><span class="o">=</span><span class="n">time</span><span class="p">,</span><span class="n">nodes</span><span class="p">,</span><span class="n">cpus</span><span class="p">,</span><span class="n">socketcorethread</span><span class="p">,</span><span class="n">memory</span><span class="p">,</span><span class="n">nodeai</span><span class="p">,</span><span class="n">features</span> <span class="c1">#displays more detailed information using the Format option, including features like the type of processors</span>
<span class="n">sacct</span> <span class="o">--</span><span class="n">partition</span> <span class="o">&lt;</span><span class="n">partition</span> <span class="n">name</span><span class="o">&gt;</span> <span class="c1">#displays the jobs that have been run on this partition</span>
<span class="n">scontrol</span> <span class="n">show</span> <span class="n">partition</span> <span class="o">&lt;</span><span class="n">partition</span> <span class="n">name</span><span class="o">&gt;</span> <span class="c1">#displays the Slurm configuration of the partition</span>
</pre></div>
</div>
<p>For more information about these commands, see the Slurm documentation site <a class="reference external" href="https://slurm.schedmd.com/">https://slurm.schedmd.com/</a>.</p>
</section>
<section id="allocating-partitions-in-your-jobs">
<h2>Allocating partitions in your jobs<a class="headerlink" href="#allocating-partitions-in-your-jobs" title="Permalink to this headline"></a></h2>
<p>To specify a partition when running jobs, use the option <code class="docutils literal notranslate"><span class="pre">--partition=&lt;partition</span> <span class="pre">name&gt;</span></code> with either <code class="docutils literal notranslate"><span class="pre">srun</span></code> or <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>. When using a partition with your job and
specifying the options of <code class="docutils literal notranslate"><span class="pre">--nodes=</span></code> and <code class="docutils literal notranslate"><span class="pre">--ntasks=</span></code>, make sure that you are requesting options that best fit your job. <strong>Requesting the maximum number of nodes or tasks will not make your job run faster or give you higher priority in the job queue.</strong> It can actually have
the opposite effect on jobs that are better suited to running with smaller requirements, as you have to wait for the extra resources that your job will not use. See <a class="reference internal" href="../using-discovery/usingslurm.html#using-slurm"><span class="std std-ref">Using Slurm</span></a> for more information on using Slurm to run jobs.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You should always try to have job requests that will attempt to allocate the best resources for the job you want to run. For example, if you are running a job that is not parallelized, you only need to request one node (<code class="docutils literal notranslate"><span class="pre">--nodes=1</span></code>). For some parallel jobs, such as a small MPI job, you can also use one node (<code class="docutils literal notranslate"><span class="pre">--nodes=1</span></code>) with the <code class="docutils literal notranslate"><span class="pre">–-ntasks=</span></code> option set to correspond to the number of MPI ranks (tasks) in your code. For example, for a job that has 12 MPI ranks, request 1 node and 12 tasks within that node (<code class="docutils literal notranslate"><span class="pre">--nodes=1</span> <span class="pre">–-ntasks=12</span></code>). If you request 12 nodes, Slurm is going to run code between those nodes, which could slow your job down significantly if it isn’t optimized to run between nodes.</p>
<p>If your code is optimized to run on more than 2 nodes and needs less than one hour to run, you can use the express partition. If your code needs to run on more than 2 nodes for more than one hour, you should apply to use the large partition. See the section Partition Access Request below for more information.</p>
</div>
</section>
<section id="partition-access-request">
<span id="partition-access"></span><h2>Partition Access Request<a class="headerlink" href="#partition-access-request" title="Permalink to this headline"></a></h2>
<p>If you need access to the large, long, or multigpu partition, you need to submit a <a class="reference external" href="https://service.northeastern.edu/tech?id=sc_cat_item&amp;sys_id=0c34d402db0b0010a37cd206ca9619b7">ServiceNow ticket</a>.
Access is not automatically granted. You will need to provide details and test results that demonstrate your need for access for these partitions.
If you need temporary access to multigpu to perform testing before applying for permanent access,
you should also submit a <a class="reference external" href="https://service.northeastern.edu/tech?id=sc_cat_item&amp;sys_id=0c34d402db0b0010a37cd206ca9619b7">ServiceNow ticket</a>. All requests are evaluated by members of the RC team,
and multigpu requests are also evaluated by two faculty members.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hardware_overview.html" class="btn btn-neutral float-left" title="Hardware overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../software/softwareoverview.html" class="btn btn-neutral float-right" title="Software overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2021, Northeastern University Research Computing.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>