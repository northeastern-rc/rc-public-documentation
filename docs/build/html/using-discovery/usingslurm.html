

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Slurm &mdash; Northeastern University Research Computing 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/../css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using sbatch" href="sbatch.html" />
    <link rel="prev" title="Message Passing Interface (MPI) Overview" href="../software/mpi.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/NU_logo_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Welcome</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../welcome/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../welcome/gettinghelp.html">Getting Help</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started with Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get_started/get_access.html">Getting Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get_started/connect.html">Connecting to Discovery</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware on Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hardware/hardware_overview.html">Hardware overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/partitions.html">Partitions</a></li>
</ul>
<p class="caption"><span class="caption-text">Software on Discovery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/softwareoverview.html">Software overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/modules.html">Using Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/matlab.html">Working with MATLAB on Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/conda.html">Working with Conda/Miniconda/Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/spack.html">Using Spack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/r.html">Working with R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/mpi.html">Message Passing Interface (MPI) Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Discovery</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Slurm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#viewing-cluster-information">Viewing Cluster Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submitting-jobs">Submitting Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#monitoring-jobs">Monitoring Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#account-information">Account information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sbatch.html">Using sbatch</a></li>
<li class="toctree-l1"><a class="reference internal" href="srun.html">Using srun</a></li>
<li class="toctree-l1"><a class="reference internal" href="workingwithgpu.html">Working with GPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="transferringdata.html">Transferring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="globus.html">Using Globus</a></li>
<li class="toctree-l1"><a class="reference internal" href="bashrc.html">Working with your bashrc file</a></li>
</ul>
<p class="caption"><span class="caption-text">Understanding storage options</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../storage/discovery_storage.html">Storage Accessible on  Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/general_storage.html">General Data Storage Options</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Open OnDemand (OOD)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/introduction.html">Introduction to Open OnDemand (OOD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/fileexplore.html">Using OOD’s File Explorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-ood/interactiveapps.html">Using OOD’s Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Discovery in your classroom</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../classroom/class_use.html">Using Discovery with your class FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Northeastern University Research Computing</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Using Slurm</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-slurm">
<span id="id1"></span><h1>Using Slurm<a class="headerlink" href="#using-slurm" title="Permalink to this headline">¶</a></h1>
<p>Slurm (Simple Linux Utility Resource Management) is the software on Discovery
that lets you do the following:</p>
<ul class="simple">
<li><p>view information about the cluster</p></li>
<li><p>monitor your jobs</p></li>
<li><p>schedule your jobs on Discovery</p></li>
<li><p>view information about your account</p></li>
</ul>
<p><a class="reference internal" href="srun.html#using-srun"><span class="std std-ref">Using srun</span></a> and <a class="reference internal" href="sbatch.html#using-sbatch"><span class="std std-ref">Using sbatch</span></a> provide you with a few examples to help get you familiar
with Slurm and be able to submit basic jobs on Discovery.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Slurm commands have numerous options to help your jobs run efficiently by requesting specific resources. Options also usually have both short and verbose versions, such as
<code class="docutils literal notranslate"><span class="pre">--nodes</span></code> and <code class="docutils literal notranslate"><span class="pre">-n</span></code> (both mean the same thing). The examples in this documentation all use the
verbose version of the options for clarity, but you can use the short version if you prefer. For example, <code class="docutils literal notranslate"><span class="pre">srun</span> <span class="pre">-p</span> <span class="pre">short</span> <span class="pre">-N</span> <span class="pre">1</span> <span class="pre">-n</span> <span class="pre">1</span></code> means the exact same thing as <code class="docutils literal notranslate"><span class="pre">srun</span> <span class="pre">--partition=short</span> <span class="pre">--nodes=1</span> <span class="pre">--ntasks=1</span></code>
Refer to the official Slurm documentation to get in-depth information about these commands and their options: <a class="reference external" href="https://slurm.schedmd.com/archive/slurm-17.11.6/srun.html">Slurm documentation website</a>.</p>
</div>
<div class="section" id="viewing-cluster-information">
<h2>Viewing Cluster Information<a class="headerlink" href="#viewing-cluster-information" title="Permalink to this headline">¶</a></h2>
<p>Use the following commands to view information about the cluster. This information can help you better understand the
hardware that is available in order to customize your job scripts. Also see <a class="reference internal" href="../hardware/hardware_overview.html#hardware-overview"><span class="std std-ref">Hardware overview</span></a> for more information.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Slurm Command</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sinfo</span> <span class="pre">&lt;options&gt;</span></code></p></td>
<td><p>View partition and node information. Use option -a to view all partitions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">smap</span> <span class="pre">&lt;options&gt;</span></code></p></td>
<td><p>View details about the cluster in a visual format</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="submitting-jobs">
<span id="id2"></span><h2>Submitting Jobs<a class="headerlink" href="#submitting-jobs" title="Permalink to this headline">¶</a></h2>
<p>There are two main commands for submitting jobs to Discovery: <code class="docutils literal notranslate"><span class="pre">srun</span></code> and <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>.
To run a job interactively, use <code class="docutils literal notranslate"><span class="pre">srun</span></code>. To submit a job to run in the background with a script, use <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Slurm Command</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">srun</span></code></p></td>
<td><p>Run an interactive job on the cluster. See <a class="reference internal" href="srun.html#using-srun"><span class="std std-ref">Using srun</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sbatch</span> <span class="pre">&lt;scriptname.script&gt;</span></code></p></td>
<td><p>Submit a script to the scheduler for running a job. See <a class="reference internal" href="sbatch.html#using-sbatch"><span class="std std-ref">Using sbatch</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scancel</span> <span class="pre">&lt;jobid&gt;</span></code></p></td>
<td><p>Cancel a pending or running job on the cluster</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="monitoring-jobs">
<h2>Monitoring Jobs<a class="headerlink" href="#monitoring-jobs" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Slurm Command</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">seff</span> <span class="pre">&lt;jobid&gt;</span></code></p></td>
<td><p>Reports the computational efficiency of your calculations.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">squeue</span> <span class="pre">-u</span> <span class="pre">&lt;your</span> <span class="pre">user</span> <span class="pre">name&gt;</span></code></p></td>
<td><p>Displays your job status in the job queue. Good to use with <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scontrol</span> <span class="pre">show</span> <span class="pre">jobid</span> <span class="pre">-d</span> <span class="pre">&lt;JOBID&gt;</span></code></p></td>
<td><p>Displays your job information. Good to use with <code class="docutils literal notranslate"><span class="pre">srun</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="account-information">
<h2>Account information<a class="headerlink" href="#account-information" title="Permalink to this headline">¶</a></h2>
<p>Some Discovery users have more than one Discovery group account associated with their username. For example, a student might be in a class that is using Discovery,
and also be in a student club that is using Discovery for a club project. In this case, the student would have two group accounts associated with their username.
When running a job with either <code class="docutils literal notranslate"><span class="pre">srun</span></code> or <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>, if you have more than one account associated with your username, we recommend that you use the <code class="docutils literal notranslate"><span class="pre">--account=</span></code> flag and specify the account
that corresponds to the project you are working on. In the example with a student associated with a class and a student club, if the student is on Discovery submitting a job for a project
for his or her class, set the <code class="docutils literal notranslate"><span class="pre">account=</span></code> flag to the name of the class account. If the student is working on a project for the club, set the <code class="docutils literal notranslate"><span class="pre">account=</span></code> flag to the name of the student club account.</p>
<p>To find out what account(s) your usesrname is associated with, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sacctmgr</span> <span class="n">show</span> <span class="n">associations</span> <span class="n">user</span><span class="o">=&lt;</span><span class="n">yourusername</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>After you have determined what accounts your username is associated with, if you have more than one account association, you can use the <code class="docutils literal notranslate"><span class="pre">account=</span></code> flag with your usual <code class="docutils literal notranslate"><span class="pre">srun</span></code> or <code class="docutils literal notranslate"><span class="pre">sbatch</span></code> commands.</p>
<p>For example, if you are associated with an account named <code class="docutils literal notranslate"><span class="pre">dataclub</span></code> and an account named <code class="docutils literal notranslate"><span class="pre">info7500</span></code>, and you’re currently doing work that should be associated with the
<code class="docutils literal notranslate"><span class="pre">dataclub</span></code> account, in your <code class="docutils literal notranslate"><span class="pre">srun</span></code> command, you can add the <code class="docutils literal notranslate"><span class="pre">--account=dataclub</span></code> flag to specify that account.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">srun</span> <span class="o">--</span><span class="n">account</span><span class="o">=</span><span class="n">dataclub</span> <span class="o">--</span><span class="n">partition</span><span class="o">=</span><span class="n">short</span> <span class="o">--</span><span class="n">nodes</span><span class="o">=</span><span class="mi">1</span> <span class="o">--</span><span class="n">ntasks</span><span class="o">=</span><span class="mi">28</span> <span class="o">--</span><span class="n">mem</span><span class="o">=</span><span class="mi">0</span> <span class="o">--</span><span class="n">pty</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not have more than one account associated with your username, you do not need to use the <code class="docutils literal notranslate"><span class="pre">--account=</span></code> flag. Most users on Discovery have only one account
associated with their username.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sbatch.html" class="btn btn-neutral float-right" title="Using sbatch" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../software/mpi.html" class="btn btn-neutral float-left" title="Message Passing Interface (MPI) Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2021, Northeastern University Research Computing

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>